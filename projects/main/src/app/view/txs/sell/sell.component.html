<h2 class="text-center">Token Market</h2>
<h3 class="text-center">Available Balance</h3>
<mat-card>
  <mat-list>
    <mat-list-item class="flex flex-wrap">
      <span class="flex-auto w-1/3 break-all">Utility Power Token:</span>
      <span class="flex-auto w-1/3 break-all"></span>
      <span class="flex-auto w-1/3 break-all">{{ balance?.amount_upx }} upx</span>
    </mat-list-item>
    <mat-divider [inset]="true"></mat-divider>
    <mat-list-item class="flex flex-wrap">
      <span class="flex-auto w-1/3 break-all">Solar Power Token:</span>
      <span class="flex-auto w-1/3 break-all"></span>
      <span class="flex-auto w-1/3 break-all">{{ balance?.amount_spx }} spx</span>
    </mat-list-item>
    <mat-divider [inset]="true"></mat-divider>
  </mat-list>
</mat-card>
<br />

<h3 class="text-center">Sell More Tokens</h3>
<form (submit)="onSubmit(accountID || '', priceRef.value, amountRef.value, denomRef.value)">
  <mat-card>
    <mat-list>
      <h3 matSubheader>Token Price</h3>
      <mat-list-item class="flex flex-wrap">
        <span class="flex-auto w-1/10 break-all text-center">1</span>
        <mat-form-field class="flex-auto w-1/5 break-all">
          <mat-label>Token</mat-label>
          <mat-select #denomRef>
            <mat-option *ngFor="let token of tokens" [value]="token.value">
              {{ token.viewValue }}
            </mat-option>
          </mat-select>
        </mat-form-field>
        <span class="flex-auto w-1/10 break-all"></span>
        <mat-icon color="accent" class="flex-auto w-1/5 break-all text-center"> drag_handle</mat-icon>
        <span class="flex-auto w-1/10 break-all"></span>
        <mat-form-field class="flex-auto w-1/5 break-all">
          <mat-label>Input JPY</mat-label>
          <input #priceRef matInput type="number" [(ngModel)]="price" name="price" required />
        </mat-form-field>
        <span class="flex-auto w-1/10 break-all text-center">JPY</span>
      </mat-list-item>
      <mat-divider [inset]="true"></mat-divider>

      <h3 matSubheader>Amount & Price</h3>
      <mat-list-item class="flex flex-wrap">
        <span class="flex-auto w-1/3 break-all">Token Amount:</span>
        <span class="flex-auto w-1/3 break-all"></span>
        <mat-form-field class="flex-auto w-1/3 break-all">
          <mat-label>Input Amount</mat-label>
          <input #amountRef matInput type="number" [(ngModel)]="amount" name="amount" required />
        </mat-form-field>
      </mat-list-item>
      <mat-divider [inset]="true"></mat-divider>

      <mat-list-item class="flex flex-wrap">
        <span class="flex-auto w-1/3 break-all">Total Price:</span>
        <span class="flex-auto w-1/3 break-all"></span>
        <span class="flex-auto w-1/3 break-all">{{ calcTotalPrice(price, amount) }} JPY</span>
      </mat-list-item>
      <mat-divider [inset]="true"></mat-divider>

      <mat-list-item class="flex flex-wrap">
        <span class="flex-auto w-1/3 break-all">Total Energy:</span>
        <span class="flex-auto w-1/3 break-all"></span>
        <span class="flex-auto w-1/3 break-all">{{ amount }} kWh</span>
      </mat-list-item>
      <mat-divider [inset]="true"></mat-divider>
    </mat-list>
  </mat-card>
  <br /><br />
  <div class="text-center">
    <button mat-flat-button color="primary">Sell Request</button>
  </div>
</form>
